<!doctype html><html lang=en class=color-toggle-hidden><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta name=description content="This is the process we use for creating WordPress websites on Ubuntu 20."><title>New WordPress server | CASATdocs</title><link rel=icon type=image/svg+xml href=/favicon/favicon.svg><link rel=icon type=image/png sizes=32x32 href=/favicon/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon/favicon-16x16.png><meta property="og:title" content="New WordPress server"><meta property="og:description" content="This is the process we use for creating WordPress websites on Ubuntu 20."><meta property="og:type" content="article"><meta property="og:url" content="https://wiki.casat.org/it_resources/wordpress/new_lamp/"><meta property="article:published_time" content="2021-10-04T12:18:47-07:00"><meta property="article:modified_time" content="2021-10-04T12:18:47-07:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="New WordPress server"><meta name=twitter:description content="This is the process we use for creating WordPress websites on Ubuntu 20."><script src=/js/darkmode-ce906ea916.min.js></script><link rel=preload as=font href=/fonts/Metropolis.woff2 type=font/woff2 crossorigin=anonymous><link rel=preload as=font href=/fonts/LiberationSans.woff2 type=font/woff2 crossorigin=anonymous><link rel=preload href=/main-75e23a8177.min.css as=style><link rel=stylesheet href=/main-75e23a8177.min.css media=all><link rel=preload href=/mobile-3fc330242c.min.css as=style><link rel=stylesheet href=/mobile-3fc330242c.min.css media="screen and (max-width: 45rem)"><link rel=preload href=/print-f79fc3e5d7.min.css as=style><link rel=stylesheet href=/print-f79fc3e5d7.min.css media=print><link rel=preload href=/custom.css as=style><link rel=stylesheet href=/custom.css media=all><script type=application/ld+json>{"@context":"http://schema.org","@type":"TechArticle","articleSection":"it_resources","name":"New WordPress server","headline":"New WordPress server","alternativeHeadline":"","description":"Setting up a LAMP server  Installing Apache Installing MySql Installing PHP   Configuring the LAMP server  Configuring the MySql database Creating an Apache VirtualHost   Installing WordPress  Download and unpack WordPress WordPress config file Copying WordPress to its proper location   Installing wp-cli     This tutorial will walkthrough the process of installing Apache, MySql, and PHP on an Ubuntu 20.","inLanguage":"en","isFamilyFriendly":"true","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/wiki.casat.org\/it_resources\/wordpress\/new_lamp\/"},"copyrightHolder":"CASATdocs","copyrightYear":"2021","dateCreated":"2021-10-04T12:18:47.00Z","datePublished":"2021-10-04T12:18:47.00Z","dateModified":"2021-10-04T12:18:47.00Z","publisher":{"@type":"Organization","name":"CASATdocs","url":"https://wiki.casat.org","logo":{"@type":"ImageObject","url":"https:\/\/wiki.casat.org\/brand.svg","width":"32","height":"32"}},"url":"https:\/\/wiki.casat.org\/it_resources\/wordpress\/new_lamp\/","wordCount":"2473","genre":["wordpress","apache","mysql","php","lamp","ubuntu","install","setup"]}</script></head><body itemscope itemtype=https://schema.org/WebPage><svg class="svg-sprite" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><symbol viewBox="-2.29 -2.29 28.57 28.57" id="gdoc_arrow_back" xmlns="http://www.w3.org/2000/svg"><path d="M24 10.526v2.947H5.755l8.351 8.421-2.105 2.105-12-12 12-12 2.105 2.105-8.351 8.421H24z"/></symbol><symbol viewBox="-2.29 -2.29 28.57 28.57" id="gdoc_arrow_left_alt" xmlns="http://www.w3.org/2000/svg"><path d="M5.965 10.526V6.035L0 12l5.965 5.965v-4.491H24v-2.947H5.965z"/></symbol><symbol viewBox="-2.29 -2.29 28.57 28.57" id="gdoc_arrow_right_alt" xmlns="http://www.w3.org/2000/svg"><path d="M18.035 10.526V6.035L24 12l-5.965 5.965v-4.491H0v-2.947h18.035z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_bitbucket" xmlns="http://www.w3.org/2000/svg"><path d="M15.905 13.355c.189 1.444-1.564 2.578-2.784 1.839-1.375-.602-1.375-2.784-.034-3.403 1.151-.705 2.818.223 2.818 1.564zm1.907-.361c-.309-2.44-3.076-4.056-5.328-3.042-1.426.636-2.389 2.148-2.32 3.747.086 2.097 2.08 3.815 4.176 3.626s3.729-2.234 3.472-4.331zm4.108-9.315c-.756-.997-2.045-1.169-3.179-1.358-3.214-.516-6.513-.533-9.727.034-1.066.172-2.269.361-2.939 1.323 1.1 1.031 2.664 1.186 4.073 1.358 2.544.327 5.156.344 7.699.017 1.426-.172 3.008-.309 4.073-1.375zm.979 17.788c-.481 1.684-.206 3.953-1.994 4.932-3.076 1.701-6.806 1.89-10.191 1.289-1.787-.327-3.884-.894-4.864-2.578-.43-1.65-.705-3.334-.98-5.018l.103-.275.309-.155c5.121 3.386 12.288 3.386 17.427.0.808.241.206 1.22.189 1.805zM26.01 4.951c-.584 3.764-1.255 7.51-1.908 11.257-.189 1.1-1.255 1.719-2.148 2.183-3.214 1.615-6.96 1.89-10.483 1.512-2.389-.258-4.829-.894-6.771-2.389-.911-.705-.911-1.908-1.083-2.922-.602-3.523-1.289-7.046-1.719-10.604.206-1.547 1.942-2.217 3.231-2.698C6.848.654 8.686.362 10.508.19c3.884-.378 7.854-.241 11.618.859 1.341.395 2.784.945 3.695 2.097.412.533.275 1.203.189 1.805z"/></symbol><symbol viewBox="-2.29 -2.29 28.57 28.57" id="gdoc_bookmark" xmlns="http://www.w3.org/2000/svg"><path d="M15.268 4.392q.868.0 1.532.638t.664 1.506v17.463l-7.659-3.268-7.608 3.268V6.536q0-.868.664-1.506t1.532-.638h10.876zm4.34 14.144V4.392q0-.868-.638-1.532t-1.506-.664H6.537q0-.868.664-1.532T8.733.0h10.876q.868.0 1.532.664t.664 1.532v17.412z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_brightness_auto" xmlns="http://www.w3.org/2000/svg"><path d="M16.846 18.938h2.382L15.22 7.785h-2.44L8.772 18.938h2.382l.871-2.44h3.95zm7.087-9.062L27.999 14l-4.066 4.124v5.809h-5.809L14 27.999l-4.124-4.066H4.067v-5.809L.001 14l4.066-4.124V4.067h5.809L14 .001l4.124 4.066h5.809v5.809zm-11.385 4.937L14 10.282l1.452 4.531h-2.904z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_brightness_dark" xmlns="http://www.w3.org/2000/svg"><path d="M14 21.435q3.079.0 5.257-2.178T21.435 14t-2.178-5.257T14 6.565q-1.51.0-3.079.697 1.917.871 3.108 2.701T15.22 14t-1.191 4.037-3.108 2.701q1.568.697 3.079.697zm9.933-11.559L27.999 14l-4.066 4.124v5.809h-5.809L14 27.999l-4.124-4.066H4.067v-5.809L.001 14l4.066-4.124V4.067h5.809L14 .001l4.124 4.066h5.809v5.809z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_brightness_light" xmlns="http://www.w3.org/2000/svg"><path d="M14 21.435q3.079.0 5.257-2.178T21.435 14t-2.178-5.257T14 6.565 8.743 8.743 6.565 14t2.178 5.257T14 21.435zm9.933-3.311v5.809h-5.809L14 27.999l-4.124-4.066H4.067v-5.809L.001 14l4.066-4.124V4.067h5.809L14 .001l4.124 4.066h5.809v5.809L27.999 14z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_cloud_off" xmlns="http://www.w3.org/2000/svg"><path d="M9.023 10.5H7q-1.914.0-3.281 1.395t-1.367 3.309 1.367 3.281T7 19.852h11.375zM3.5 4.976l1.477-1.477L24.5 23.022l-1.477 1.477-2.352-2.297H6.999q-2.898.0-4.949-2.051t-2.051-4.949q0-2.844 1.969-4.867t4.758-2.133zm19.086 5.578q2.242.164 3.828 1.832T28 16.351q0 3.008-2.461 4.758l-1.695-1.695q1.805-.984 1.805-3.063.0-1.422-1.039-2.461t-2.461-1.039h-1.75v-.602q0-2.68-1.859-4.539t-4.539-1.859q-1.531.0-2.953.711l-1.75-1.695Q11.431 3.5 14.001 3.5q2.953.0 5.496 2.078t3.09 4.977z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_code" xmlns="http://www.w3.org/2000/svg"><path d="M9.917 24.5a1.75 1.75 0 10-3.501.001 1.75 1.75 0 003.501-.001zm0-21a1.75 1.75.0 10-3.501.001A1.75 1.75.0 009.917 3.5zm11.666 2.333a1.75 1.75 0 10-3.501.001 1.75 1.75 0 003.501-.001zm1.75.0a3.502 3.502.0 01-1.75 3.026c-.055 6.581-4.721 8.039-7.82 9.023-2.898.911-3.846 1.349-3.846 3.117v.474a3.502 3.502.0 011.75 3.026c0 1.932-1.568 3.5-3.5 3.5s-3.5-1.568-3.5-3.5c0-1.294.711-2.424 1.75-3.026V6.526A3.502 3.502.0 014.667 3.5c0-1.932 1.568-3.5 3.5-3.5s3.5 1.568 3.5 3.5a3.502 3.502.0 01-1.75 3.026v9.06c.93-.456 1.914-.766 2.807-1.039 3.391-1.075 5.323-1.878 5.359-5.687a3.502 3.502.0 01-1.75-3.026c0-1.932 1.568-3.5 3.5-3.5s3.5 1.568 3.5 3.5z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_date" xmlns="http://www.w3.org/2000/svg"><path d="M27.192 28.844V11.192H4.808v17.652h22.384zm0-25.689q1.277.0 2.253.976t.976 2.253v22.459q0 1.277-.976 2.216t-2.253.939H4.808q-1.352.0-2.291-.901t-.939-2.253V6.385q0-1.277.939-2.253t2.291-.976h1.577V.001h3.23v3.155h12.769V.001h3.23v3.155h1.577zm-3.155 11.267v3.155h-3.23v-3.155h3.23zm-6.46.0v3.155h-3.155v-3.155h3.155zm-6.384.0v3.155h-3.23v-3.155h3.23z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_download" xmlns="http://www.w3.org/2000/svg"><path d="M2.866 28.209h26.269v3.79H2.866v-3.79zm26.268-16.925L16 24.418 2.866 11.284h7.493V.001h11.283v11.283h7.493z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_email" xmlns="http://www.w3.org/2000/svg"><path d="M28.845 9.615v-3.23L16 14.422 3.155 6.385v3.23L16 17.577zm0-6.46q1.277.0 2.216.977T32 6.385v19.23q0 1.277-.939 2.253t-2.216.977H3.155q-1.277.0-2.216-.977T0 25.615V6.385q0-1.277.939-2.253t2.216-.977h25.69z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_git" xmlns="http://www.w3.org/2000/svg"><path d="M27.472 12.753 15.247.529a1.803 1.803.0 00-2.55.0l-2.84 2.84 2.137 2.137a2.625 2.625.0 013.501 3.501l3.499 3.499a2.625 2.625.0 11-1.237 1.237l-3.499-3.499c-.083.04-.169.075-.257.106v7.3a2.626 2.626.0 11-1.75.0v-7.3a2.626 2.626.0 01-1.494-3.607L8.62 4.606l-8.09 8.09a1.805 1.805.0 000 2.551l12.225 12.224a1.803 1.803.0 002.55.0l12.168-12.168a1.805 1.805.0 000-2.551z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_github" xmlns="http://www.w3.org/2000/svg"><path d="M16 .394c8.833.0 15.999 7.166 15.999 15.999.0 7.062-4.583 13.062-10.937 15.187-.813.146-1.104-.354-1.104-.771.0-.521.021-2.25.021-4.396.0-1.5-.5-2.458-1.083-2.958 3.562-.396 7.312-1.75 7.312-7.896.0-1.75-.625-3.167-1.646-4.291.167-.417.708-2.042-.167-4.25-1.333-.417-4.396 1.646-4.396 1.646a15.032 15.032.0 00-8 0S8.937 6.602 7.603 7.018c-.875 2.208-.333 3.833-.167 4.25-1.021 1.125-1.646 2.542-1.646 4.291.0 6.125 3.729 7.5 7.291 7.896-.458.417-.875 1.125-1.021 2.146-.917.417-3.25 1.125-4.646-1.333-.875-1.521-2.458-1.646-2.458-1.646-1.562-.021-.104.979-.104.979 1.042.479 1.771 2.333 1.771 2.333.938 2.854 5.396 1.896 5.396 1.896.0 1.333.021 2.583.021 2.979.0.417-.292.917-1.104.771C4.582 29.455-.001 23.455-.001 16.393-.001 7.56 7.165.394 15.998.394zM6.063 23.372c.042-.083-.021-.187-.146-.25-.125-.042-.229-.021-.271.042-.042.083.021.187.146.25.104.062.229.042.271-.042zm.646.709c.083-.062.062-.208-.042-.333-.104-.104-.25-.146-.333-.062-.083.062-.062.208.042.333.104.104.25.146.333.062zm.625.937c.104-.083.104-.25.0-.396-.083-.146-.25-.208-.354-.125-.104.062-.104.229.0.375s.271.208.354.146zm.875.875c.083-.083.042-.271-.083-.396-.146-.146-.333-.167-.417-.062-.104.083-.062.271.083.396.146.146.333.167.417.062zm1.187.521c.042-.125-.083-.271-.271-.333-.167-.042-.354.021-.396.146s.083.271.271.312c.167.062.354.0.396-.125zm1.313.104c0-.146-.167-.25-.354-.229-.187.0-.333.104-.333.229.0.146.146.25.354.229.187.0.333-.104.333-.229zm1.208-.208c-.021-.125-.187-.208-.375-.187-.187.042-.312.167-.292.312.021.125.187.208.375.167s.312-.167.292-.292z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_gitlab" xmlns="http://www.w3.org/2000/svg"><path d="M1.629 11.034 14 26.888.442 17.048a1.09 1.09.0 01-.39-1.203l1.578-4.811zm7.217.0h10.309l-5.154 15.854zM5.753 1.475l3.093 9.559H1.63l3.093-9.559a.548.548.0 011.031.0zm20.618 9.559 1.578 4.811c.141.437-.016.922-.39 1.203l-13.558 9.84 12.371-15.854zm0 0h-7.216l3.093-9.559a.548.548.0 011.031.0z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_heart" xmlns="http://www.w3.org/2000/svg"><path d="M16 29.714a1.11 1.11.0 01-.786-.321L4.072 18.643c-.143-.125-4.071-3.714-4.071-8 0-5.232 3.196-8.357 8.535-8.357 3.125.0 6.053 2.464 7.464 3.857 1.411-1.393 4.339-3.857 7.464-3.857 5.339.0 8.535 3.125 8.535 8.357.0 4.286-3.928 7.875-4.089 8.035L16.785 29.392c-.214.214-.5.321-.786.321z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_home" xmlns="http://www.w3.org/2000/svg"><path d="M24.003 15.695v8.336c0 .608-.504 1.111-1.111 1.111h-6.669v-6.669h-4.446v6.669H5.108a1.119 1.119.0 01-1.111-1.111v-8.336c0-.035.017-.069.017-.104L14 7.359l9.986 8.232a.224.224.0 01.017.104zm3.873-1.198-1.077 1.285a.578.578.0 01-.365.191h-.052a.547.547.0 01-.365-.122L14 5.831 1.983 15.8511a.594.594 0 01-.417.122.578.578 0 01-.365-.191.124 14.497a.57.57.0 01.069-.781L12.679 3.314c.729-.608 1.91-.608 2.64.0l4.237 3.543V3.471c0-.313.243-.556.556-.556h3.334c.313.0.556.243.556.556v7.085l3.803 3.161c.226.191.26.556.069.781z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_keyborad_arrow_down" xmlns="http://www.w3.org/2000/svg"><path d="M3.281 5.36 14 16.079 24.719 5.36 28 8.641l-14 14-14-14z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_keyborad_arrow_left" xmlns="http://www.w3.org/2000/svg"><path d="M25.875 28.25 22.125 32 6.126 16.001 22.125.002l3.75 3.75-12.25 12.25z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_keyborad_arrow_right" xmlns="http://www.w3.org/2000/svg"><path d="M6.125 28.25 18.375 16 6.125 3.75 9.875.0l15.999 15.999L9.875 31.998z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_keyborad_arrow_up" xmlns="http://www.w3.org/2000/svg"><path d="M24.719 22.64 14 11.921 3.281 22.64.0 19.359l14-14 14 14z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_link" xmlns="http://www.w3.org/2000/svg"><path d="M24.037 7.963q3.305.0 5.634 2.366T32 16t-2.329 5.671-5.634 2.366h-6.46v-3.08h6.46q2.028.0 3.493-1.465t1.465-3.493-1.465-3.493-3.493-1.465h-6.46v-3.08h6.46zM9.615 17.578v-3.155h12.77v3.155H9.615zM3.005 16q0 2.028 1.465 3.493t3.493 1.465h6.46v3.08h-6.46q-3.305.0-5.634-2.366T0 16.001t2.329-5.671 5.634-2.366h6.46v3.08h-6.46q-2.028.0-3.493 1.465t-1.465 3.493z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_menu" xmlns="http://www.w3.org/2000/svg"><path d="M.001 5.334h31.998v3.583H.001V5.334zm0 12.416v-3.5h31.998v3.5H.001zm0 8.916v-3.583h31.998v3.583H.001z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_notification" xmlns="http://www.w3.org/2000/svg"><path d="M22.615 19.384l2.894 2.894v1.413H2.49v-1.413l2.894-2.894V12.25q0-3.365 1.716-5.856t4.745-3.231v-1.01q0-.875.606-1.514T13.999.0t1.548.639.606 1.514v1.01q3.029.74 4.745 3.231t1.716 5.856v7.134zM14 27.999q-1.211.0-2.053-.808t-.841-2.019h5.788q0 1.144-.875 1.986T14 27.999z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_path" xmlns="http://www.w3.org/2000/svg"><path d="M28 12.62h-9.793V8.414h-2.826v11.173h2.826v-4.206H28V26.62h-9.793v-4.206H12.62v-14H9.794v4.206H.001V1.381h9.793v4.206h8.413V1.381H28V12.62z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_person" xmlns="http://www.w3.org/2000/svg"><path d="M16 20.023q5.052.0 10.526 2.199t5.473 5.754v4.023H0v-4.023q0-3.555 5.473-5.754t10.526-2.199zM16 16q-3.275.0-5.614-2.339T8.047 8.047t2.339-5.661T16 0t5.614 2.386 2.339 5.661-2.339 5.614T16 16z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_search" xmlns="http://www.w3.org/2000/svg"><path d="M11.925 20.161q3.432.0 5.834-2.402t2.402-5.834-2.402-5.834-5.834-2.402-5.834 2.402-2.402 5.834 2.402 5.834 5.834 2.402zm10.981.0L32 29.255 29.255 32l-9.094-9.094v-1.458l-.515-.515q-3.26 2.831-7.721 2.831-4.976.0-8.45-3.432T.001 11.925t3.474-8.45 8.45-3.474 8.407 3.474 3.432 8.45q0 1.802-.858 4.075t-1.973 3.646l.515.515h1.458z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_shield" xmlns="http://www.w3.org/2000/svg"><path d="M22.167 15.166V3.5h-8.166v20.726c.93-.492 2.424-1.349 3.883-2.497 1.95-1.531 4.284-3.919 4.284-6.562zm3.499-13.999v14c0 7.674-10.737 12.523-11.192 12.724-.146.073-.31.109-.474.109s-.328-.036-.474-.109c-.456-.201-11.192-5.049-11.192-12.724v-14C2.334.529 2.863.0 3.501.0H24.5c.638.0 1.167.529 1.167 1.167z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_tags" xmlns="http://www.w3.org/2000/svg"><path d="M6.606 7.549c0-1.047-.84-1.887-1.887-1.887s-1.887.84-1.887 1.887.84 1.887 1.887 1.887 1.887-.84 1.887-1.887zm15.732 8.493c0 .501-.206.988-.546 1.327l-7.239 7.254c-.354.339-.84.546-1.342.546s-.988-.206-1.327-.546L1.342 14.066C.59 13.329.0 11.899.0 10.852V4.718a1.9 1.9.0 011.887-1.887h6.134c1.047.0 2.477.59 3.229 1.342L21.792 14.7c.339.354.546.84.546 1.342zm5.661.0c0 .501-.206.988-.546 1.327l-7.239 7.254c-.354.339-.84.546-1.342.546-.767.0-1.15-.354-1.651-.87l6.93-6.93c.339-.339.546-.826.546-1.327s-.206-.988-.546-1.342L13.609 4.173c-.752-.752-2.182-1.342-3.229-1.342h3.303c1.047.0 2.477.59 3.229 1.342L27.454 14.7c.339.354.546.84.546 1.342z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_timer" xmlns="http://www.w3.org/2000/svg"><path d="M16 29q4.428.0 7.536-3.143t3.107-7.571-3.107-7.536T16 7.643 8.464 10.75t-3.107 7.536 3.107 7.571T16 29zM26.714 9.786q1.214 1.571 2.107 4.036t.893 4.464q0 5.643-4 9.678T16 32t-9.714-4.036-4-9.678 4-9.678T16 4.572q1.929.0 4.464.929t4.107 2.143l2.143-2.214q1.143.929 2.143 2.143zM14.5 19.857v-9.143h3v9.143h-3zM20.571.001v3.071h-9.143V.001h9.143z"/></symbol></svg><div class=wrapper><input type=checkbox class=hidden id=menu-control>
<input type=checkbox class=hidden id=menu-header-control><header class=gdoc-header><div class="container flex align-center justify-between"><label for=menu-control class=gdoc-nav__control><svg class="icon gdoc_menu"><title>Open Nav Menu</title><use xlink:href="#gdoc_menu"/></svg><svg class="icon gdoc_arrow_back"><title>Close Nav Menu</title><use xlink:href="#gdoc_arrow_back"/></svg></label><a class=gdoc-header__link href=https://wiki.casat.org><span class="gdoc-brand flex align-center"><img class=gdoc-brand__img src=/logo.png alt>
<span class=gdoc-brand__title>CASATdocs</span></span></a><div class=gdoc-menu-header><span id=gdoc-dark-mode><svg class="icon gdoc_brightness_dark"><title>Toggle Dark/Light/Auto mode</title><use xlink:href="#gdoc_brightness_dark"/></svg><svg class="icon gdoc_brightness_light"><title>Toggle Dark/Light/Auto mode</title><use xlink:href="#gdoc_brightness_light"/></svg><svg class="icon gdoc_brightness_auto"><title>Toggle Dark/Light/Auto mode</title><use xlink:href="#gdoc_brightness_auto"/></svg></span></div></div></header><main class="container flex flex-even"><aside class=gdoc-nav><nav><section class=gdoc-nav--main><h2>Navigation</h2><ul class=gdoc-nav__list><li><input type=checkbox id=navtree-4e7059cc class=gdoc-nav__toggle>
<label for=navtree-4e7059cc class="flex justify-between"><span class=flex><a href=/casat_resources/ class=gdoc-nav__entry>CASAT Resources</a></span><svg class="icon gdoc_keyborad_arrow_left"><use xlink:href="#gdoc_keyborad_arrow_left"/></svg><svg class="icon gdoc_keyborad_arrow_down hidden"><use xlink:href="#gdoc_keyborad_arrow_down"/></svg></label><ul class=gdoc-nav__list><li><span class=flex><a href=/casat_resources/getting_started/ class=gdoc-nav__entry>Getting Started</a></span></li><li><span class=flex><a href=/casat_resources/email/ class=gdoc-nav__entry>Accessing CASAT email</a></span></li><li><span class=flex><a href=/casat_resources/remote/ class=gdoc-nav__entry>Remote Workers</a></span></li></ul></li><li><input type=checkbox id=navtree-e10c548b class=gdoc-nav__toggle>
<label for=navtree-e10c548b class="flex justify-between"><span class=flex><a href=/unr_resources/ class=gdoc-nav__entry>UNR resources</a></span><svg class="icon gdoc_keyborad_arrow_left"><use xlink:href="#gdoc_keyborad_arrow_left"/></svg><svg class="icon gdoc_keyborad_arrow_down hidden"><use xlink:href="#gdoc_keyborad_arrow_down"/></svg></label><ul class=gdoc-nav__list><li><span class=flex><a href=/unr_resources/vpn/ class=gdoc-nav__entry>Connecting to the UNR VPN</a></span></li><li><span class=flex><a href=/unr_resources/zoom/ class=gdoc-nav__entry>Zoom with your UNR NetID (SSO Login)</a></span></li><li><span class=flex><a href=/unr_resources/officeathome/ class=gdoc-nav__entry>Accessing Office on personal computers</a></span></li><li><span class=flex><a href=/unr_resources/remote_desktop/ class=gdoc-nav__entry>Connecting to the UNR Remote Desktop</a></span></li></ul></li><li><input type=checkbox id=navtree-79b488f5 class=gdoc-nav__toggle checked>
<label for=navtree-79b488f5 class="flex justify-between"><span class=flex><a href=/it_resources/ class=gdoc-nav__entry>IT Resources</a></span><svg class="icon gdoc_keyborad_arrow_left"><use xlink:href="#gdoc_keyborad_arrow_left"/></svg><svg class="icon gdoc_keyborad_arrow_down hidden"><use xlink:href="#gdoc_keyborad_arrow_down"/></svg></label><ul class=gdoc-nav__list><li><input type=checkbox id=navtree-0a4dfd81 class=gdoc-nav__toggle>
<label for=navtree-0a4dfd81 class="flex justify-between"><span class=flex>Windows and Active Directory Notes</span><svg class="icon gdoc_keyborad_arrow_left"><use xlink:href="#gdoc_keyborad_arrow_left"/></svg><svg class="icon gdoc_keyborad_arrow_down hidden"><use xlink:href="#gdoc_keyborad_arrow_down"/></svg></label><ul class=gdoc-nav__list><li><span class=flex><a href=/it_resources/windows/robocopy/ class=gdoc-nav__entry>Robocopy Notes</a></span></li></ul></li><li><input type=checkbox id=navtree-20b3f2e2 class=gdoc-nav__toggle checked>
<label for=navtree-20b3f2e2 class="flex justify-between"><span class=flex>WordPress</span><svg class="icon gdoc_keyborad_arrow_left"><use xlink:href="#gdoc_keyborad_arrow_left"/></svg><svg class="icon gdoc_keyborad_arrow_down hidden"><use xlink:href="#gdoc_keyborad_arrow_down"/></svg></label><ul class=gdoc-nav__list><li><span class=flex><a href=/it_resources/wordpress/new_lamp/ class="gdoc-nav__entry is-active">New WordPress server</a></span></li><li><span class=flex><a href=/it_resources/wordpress/migration/ class=gdoc-nav__entry>Migrating websites</a></span></li></ul></li><li><input type=checkbox id=navtree-33ad4953 class=gdoc-nav__toggle>
<label for=navtree-33ad4953 class="flex justify-between"><span class=flex>Server Resources</span><svg class="icon gdoc_keyborad_arrow_left"><use xlink:href="#gdoc_keyborad_arrow_left"/></svg><svg class="icon gdoc_keyborad_arrow_down hidden"><use xlink:href="#gdoc_keyborad_arrow_down"/></svg></label><ul class=gdoc-nav__list><li><span class=flex><a href=/it_resources/server_notes/adding_ssl/ class=gdoc-nav__entry>Adding SSL certificate to Apache</a></span></li><li><span class=flex><a href=/it_resources/server_notes/htpasswd/ class=gdoc-nav__entry>Adding logins with Apache</a></span></li><li><span class=flex><a href=/it_resources/server_notes/php72_74/ class=gdoc-nav__entry>Updating PHP 7.2 > 7.4 on Ubuntu 18</a></span></li></ul></li><li><input type=checkbox id=navtree-8d3380ab class=gdoc-nav__toggle>
<label for=navtree-8d3380ab class="flex justify-between"><span class=flex>Metric Server Notes</span><svg class="icon gdoc_keyborad_arrow_left"><use xlink:href="#gdoc_keyborad_arrow_left"/></svg><svg class="icon gdoc_keyborad_arrow_down hidden"><use xlink:href="#gdoc_keyborad_arrow_down"/></svg></label><ul class=gdoc-nav__list><li><span class=flex><a href=/it_resources/metrics/node_exporter_install/ class=gdoc-nav__entry>Installing Node Exporter on Remote Servers</a></span></li><li><span class=flex><a href=/it_resources/metrics/promtail_install/ class=gdoc-nav__entry>Promtail Installation</a></span></li></ul></li></ul></li></ul></section><section class=gdoc-nav--more><h2>More</h2><ul class=gdoc-nav__list><li><span class=flex><svg class="icon gdoc_home"><use xlink:href="#gdoc_home"/></svg><a href=https://casat.org class=gdoc-nav__entry>CASAT</a></span></li><li><span class=flex><svg class="icon gdoc_person"><use xlink:href="#gdoc_person"/></svg><a href=https://staff.casat.org class=gdoc-nav__entry>CASAT Staff</a></span></li><li><span class=flex><svg class="icon gdoc_github"><use xlink:href="#gdoc_github"/></svg><a href=https://github.com/casat class=gdoc-nav__entry>CASAT GitHub</a></span></li><li><span class=flex><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg><a href=https://www.unr.edu/oit class=gdoc-nav__entry>UNR OIT</a></span></li><li><span class=flex><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg><a href=https://www.bcnpurchasing.nevada.edu/asset-management/assetworks/ class=gdoc-nav__entry>NSHE AssetWorks</a></span></li><li><span class=flex><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg><a href=https://www.myworkday.com/wday/authgwy/nshe/login.htmld class=gdoc-nav__entry>NSHE Workday</a></span></li></ul></section></nav></aside><div class=gdoc-page><div class="gdoc-page__header flex flex-wrap
justify-end" itemprop=breadcrumb><div><span class=editpage><svg class="icon gdoc_code"><use xlink:href="#gdoc_code"/></svg><a href=https://github.com/casat/casat.github.io/blob/source/content/it_resources/wordpress/new_lamp.md>Edit this page</a></span></div></div><article class="gdoc-markdown gdoc-markdown__align--left"><h1>New WordPress server</h1><hr><div class="gdoc-toc gdoc-toc__level--1"><nav id=TableOfContents><ul><li><a href=#setting-up-a-lamp-server>Setting up a LAMP server</a><ul><li><a href=#installing-apache>Installing Apache</a></li><li><a href=#installing-mysql>Installing MySql</a></li><li><a href=#installing-php>Installing PHP</a></li></ul></li><li><a href=#configuring-the-lamp-server>Configuring the LAMP server</a><ul><li><a href=#configuring-the-mysql-database>Configuring the MySql database</a></li><li><a href=#creating-an-apache-virtualhost>Creating an Apache VirtualHost</a></li></ul></li><li><a href=#installing-wordpress>Installing WordPress</a><ul><li><a href=#download-and-unpack-wordpress>Download and unpack WordPress</a></li><li><a href=#wordpress-config-file>WordPress config file</a></li><li><a href=#copying-wordpress-to-its-proper-location>Copying WordPress to its proper location</a></li></ul></li><li><a href=#installing-wp-cli>Installing wp-cli</a></li></ul></nav><hr></div><p>This tutorial will walkthrough the process of installing Apache, MySql, and PHP on an Ubuntu 20.04 DigitalOcean Droplet. The server created here will eventually host a WordPress website, I will indicate when settings are specific to WordPress and you can alternate from there if you are doing something different. These directions are for DigitalOcean but should be similar for most VPS providers. Before starting this process you should obtain an <a class=gdoc-markdown__link href=https://www.digitalocean.com/community/tutorials/how-to-set-up-an-ubuntu-20-04-server-on-a-digitalocean-droplet>Ubuntu 20.04 droplet</a> from DigitalOcean and make sure your <a class=gdoc-markdown__link href=https://docs.digitalocean.com/products/droplets/how-to/add-ssh-keys/>SSH access is working.</a></p><blockquote class="gdoc-hint info"><strong>Ubuntu Versions</strong><br>I recommend starting with an Ubuntu 20.04 (LTS) server instead of other versions because the LTS version is the &lsquo;Long Term Support&rsquo; version of Ubuntu, meaning it is supported with at least 5 years of updates. Non-LTS releases are only guaranteed to receive 9 months of updates.</blockquote><div class=gdoc-page__anchorwrap><h2 id=setting-up-a-lamp-server>Setting up a LAMP server
<a data-clipboard-text=https://wiki.casat.org/it_resources/wordpress/new_lamp/#setting-up-a-lamp-server class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Setting up a LAMP server" href=#setting-up-a-lamp-server><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h2></div><p>By starting out with a Linux (Ubuntu) server from DigitalOcean we already have the &lsquo;L&rsquo; for our &lsquo;LAMP&rsquo; server, now we&rsquo;ll move onto the &lsquo;A&rsquo;. Apache is the most common web server in use with WordPress websites, and the one we&rsquo;ll be using for this tutorial. To begin with we&rsquo;ll need to download and install Apache onto our server. The first step is to make sure you are connected to your webserver <a class=gdoc-markdown__link href=https://docs.digitalocean.com/products/droplets/how-to/connect-with-ssh/>over SSH</a> or through the <a class=gdoc-markdown__link href=https://docs.digitalocean.com/products/droplets/how-to/connect-with-console/>&lsquo;Droplet Console&rsquo;</a>.</p><div class=gdoc-page__anchorwrap><h3 id=installing-apache>Installing Apache
<a data-clipboard-text=https://wiki.casat.org/it_resources/wordpress/new_lamp/#installing-apache class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Installing Apache" href=#installing-apache><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h3></div><p>Once you are connected to your server, the first thing you should do is check for updates and then run any updates. You will check for updates with the following command:</p><pre><code>sudo apt update
</code></pre><p>Once that is down checking, we&rsquo;ll run the waiting updates with</p><pre><code>sudo apt upgrade
</code></pre><p>If you are asked to confirm any updates, just go with &lsquo;yes&rsquo; or whatever default is already checked. Since it is a new server there are no settings we need to worry about preserving.</p><p>With the server updated we can get Apache installed. We&rsquo;ll run this command to download it</p><pre><code>sudo apt install apache2
</code></pre><p>And when once that is completed you can navigate to the IP address of the server in your web browser and should be greeted with the Apache2 Default Page. There is still some work to be done in order to get Apache to properly serve up a webpage. But this is all we need for now, we&rsquo;ll create VirtualHosts and configure it on a later step.</p><div class=gdoc-page__anchorwrap><h3 id=installing-mysql>Installing MySql
<a data-clipboard-text=https://wiki.casat.org/it_resources/wordpress/new_lamp/#installing-mysql class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Installing MySql" href=#installing-mysql><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h3></div><p>Next up for our LAMP is the &lsquo;M&rsquo;, MySql. MySql is a Database application that help us organize our content for our future website. There are many Database options, but MySql is the most common for WordPress so that&rsquo;s what we&rsquo;ll use here.</p><p>First up is to download the mysql-server app by running</p><pre><code>sudo apt install mysql-server
</code></pre><p>Once MySql is downloaded we should go through the initial setup. Run this command to have MySql walk you through the initial settings</p><pre><code>mysql_secure_installation
</code></pre><p>You will be prompted through a series of questions, the first should be if you would like to enforce password strength requirements (I recommend yes). Next you will be prompted to define a &lsquo;root&rsquo; password, make sure you copy this down you will most likely need it in the future. After you set the password you will be asked to remove anonymous users, you should. You should also disallow remote root logins, and finally go ahead and reload the privilege tables when prompted which updates the currently logged in accounts to match the new settings.</p><p>After that we&rsquo;ll be done with MySql for now.</p><div class=gdoc-page__anchorwrap><h3 id=installing-php>Installing PHP
<a data-clipboard-text=https://wiki.casat.org/it_resources/wordpress/new_lamp/#installing-php class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Installing PHP" href=#installing-php><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h3></div><p>The final piece of our LAMP server is the &lsquo;P&rsquo;, for PHP. PHP is a programming scripting language that WordPress and many other Web applications are built on. Since this tutorial is about getting WordPress installed we&rsquo;ll be installing PHP and some necessary add-ons for WordPress.</p><pre><code>sudo apt install php php-mysql php-curl php-gd php-mbstring php-xml php-xmlrpc php-soap php-intl php-zip
</code></pre><p>These are some of the commonly needed PHP extensions. It&rsquo;s possible that you may need other or additional extensions for particular WordPress plugins, make sure to check your documentation.</p><hr><div class=gdoc-page__anchorwrap><h2 id=configuring-the-lamp-server>Configuring the LAMP server
<a data-clipboard-text=https://wiki.casat.org/it_resources/wordpress/new_lamp/#configuring-the-lamp-server class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Configuring the LAMP server" href=#configuring-the-lamp-server><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h2></div><p>Now that there is a LAMP server setup we need to configure Apache, Mysql, and PHP for WordPress. For these steps it&rsquo;s best if you already have a web address registered (<a href=http://www.google.com>www.google.com</a>, casat.org, etc&mldr;) and DNS already setup to point to the correct server. From here on the web address will be referred to as the FQDN (fully qualified domain name).</p><div class=gdoc-page__anchorwrap><h3 id=configuring-the-mysql-database>Configuring the MySql database
<a data-clipboard-text=https://wiki.casat.org/it_resources/wordpress/new_lamp/#configuring-the-mysql-database class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Configuring the MySql database" href=#configuring-the-mysql-database><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h3></div><p>The first thing we will do is setup a MySql database and a user for WordPress to access the database from. For this particular section you will be providing 3 variables, $WPDBNAME is the name for the WordPress database we&rsquo;ll be creating, I like them to reference the website to keep it simple (something like wp_google), $WPUSERNAME is the name for the user that WordPress uses to interact with the database and again I typically reference the FQDN to keep it simple (ex: user_google), last you will need to come up with a password for that user account it will be referred to as $WPPASSWORD. When you see one of these variables in the commands you should replace it with the correct information.</p><p>Connect to your server via SSH or the Droplet Console, and then connect to the MySql app by typing in</p><pre><code>sudo mysql -u root
</code></pre><p>If you are prompted for a password, it is looking for your Ubuntu &lsquo;Sudo&rsquo; password.</p><p>Now we&rsquo;ll create the database that WordPress will store all of your website data and users. Make sure to replace $WPDBNAME with an appropriate name for your WordPress website database.</p><pre><code>CREATE DATABASE $WPDBNAME DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci;
</code></pre><p>This will create a database in MySql named &lsquo;$WPDBNAME&rsquo; and then set the Character Set and Collate options to utf8 which is what WordPress needs.</p><p>Then we will create a user that WordPress can use to access the database. For this command you will need to replace the variables $WPUSERNAME and $WPPASSWORD with a Username and Password respectively. Make sure to copy down what the Username and Password are as they will be used later in the WordPress installation.</p><pre><code>CREATE USER '$WPUSERNAME'@'localhost' IDENTIFIED WITH mysql_native_password BY '$WPPASSWORD';
</code></pre><p>This creates a user named $WPUSERNAME and only allows that account to connect to the database Locally, which prevents someone from connecting to the database remotely using that account. It then sets the user&rsquo;s password to $WPPASSWORD. The mysql_native_password modifier tells MySql to create the user with the older, less secure, password hashing format that is necessary for WordPress as of right now.</p><p>Next we will grant permission for the user account we just made to access the database. For this you will need the database name you created, and the username.</p><pre><code>GRANT ALL ON $WPDBNAME.* TO '$WPUSERNAME'@'localhost';
</code></pre><p>For the final MySql steps we will reset the user permissions and then exit the MySql interface and return to the Ubuntu terminal using the following commands</p><pre><code>FLUSH PRIVILEGES;
EXIT;
</code></pre><p>Now you should be back in the regular Ubuntu terminal. Next we&rsquo;ll fix our PHP installation to serve up WordPress content.</p><div class=gdoc-page__anchorwrap><h3 id=creating-an-apache-virtualhost>Creating an Apache VirtualHost
<a data-clipboard-text=https://wiki.casat.org/it_resources/wordpress/new_lamp/#creating-an-apache-virtualhost class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Creating an Apache VirtualHost" href=#creating-an-apache-virtualhost><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h3></div><p>In order to configure Apache for WordPress we will create a new VirtualHost file, enable that VirtualHost, check our Apache setup for errors and then enable the new Apache configuration.</p><p>First thing is to create a new VirtualHost file for the website. The file can be named whatever you want it to be, as long as it ends with the .conf suffix. I prefer to use the name of the website to keep it simple. In this example replace the $VHOSTNAME variable with your website (ie: google.conf, digitalocean.conf)</p><pre><code>sudo touch /etc/apache2/sites-available/$VHOSTNAME.conf
</code></pre><p>Next we will fill the content of the VirtualHost file by opening it with a text editor. Personally I like to use vim, but nano works just as well if that&rsquo;s what you are familar with. Use this command to open the VirtualHost file, replace vim with the text editor of choice if you&rsquo;d like to use something different, and $VHOSTNAME with the name of the file you just created.</p><pre><code>sudo vim /etc/apache2/sites-available/$VHOSTNAME.conf
</code></pre><p>Now we will create the VirtualHost content. I&rsquo;m including a very basic VirtualHost example below that can be copy and pasted. However there are several variables that need to be edited to work with your respective website. In the top section the variable $ADMIN_EMAIL should be replaced with an active email address. The $DOMAIN_NAME variable should be replaced with your domain name (ie: google.com).</p><blockquote class="gdoc-hint info"><strong>www vs non-www</strong><br>In my example the website is being setup for non-www, if you would prefer your site to be www then you should put www.$DOMAIN_NAME in the ServerName field and the non-www in the ServerAlias field.</blockquote><p>The other variable you need to define is $WPFOLDER. This folder does not exist yet, we will create it later when we do our actual WordPress installation. Typically I name this folder the same as my website which helps keeps things straight if you will eventually host multiple sites from the same server. If this is not a concern for you, you can just name this folder wordpress. Whatever you choose make sure you remember what it is, as we will need to reference it later.</p><pre><code>&lt;VirtualHost *:80&gt;
ServerAdmin  $ADMIN_EMAIL
ServerName   $DOMAIN_NAME
ServerAlias  www.$DOMAIN_NAME
DocumentRoot /var/www/$WPFOLDER

 &lt;Directory /var/www/$WPFOLDER/&gt;
  Options FollowSymLinks
  AllowOverride All
  Require all granted
 &lt;/Directory&gt;

ErrorLog  ${APACHE_LOG_DIR}/error.log
CustomLog ${APACHE_LOG_DIR}/access.log combined
&lt;/VirtualHost&gt;
</code></pre><p>Once we have our VirtualHost file created we need to tell Apache to enable that VirtualHost.</p><pre><code>sudo a2ensite $VHOSTNAME.conf
</code></pre><p>Then we need to disable the default VirtualHost file that Apache comes with.</p><pre><code>sudo a2dissite 000-default.conf
</code></pre><p>Before proceeding further you can check the syntax of your Apache Virtualhost file by running this command. If you receive any errors you will need to correct them before moving on.</p><pre><code>sudo apache2ctl configtest
</code></pre><p>You will get a warning that the current DocumentRoot folder does not exist. That is correct, we will create that folder in a later step. Now we will enable the rewrite module in Apache that is required for WordPress.</p><pre><code>sudo a2enmod rewrite
</code></pre><p>And finally we will restart Apache to apply the new settings.</p><pre><code>sudo systemctl restart apache2
</code></pre><p>At this point we are now ready to install WordPress.</p><hr><div class=gdoc-page__anchorwrap><h2 id=installing-wordpress>Installing WordPress
<a data-clipboard-text=https://wiki.casat.org/it_resources/wordpress/new_lamp/#installing-wordpress class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Installing WordPress" href=#installing-wordpress><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h2></div><p>For the final step in getting WordPress installed on our DigitalOcean LAMP VPS we need to install WordPress.</p><div class=gdoc-page__anchorwrap><h3 id=download-and-unpack-wordpress>Download and unpack WordPress
<a data-clipboard-text=https://wiki.casat.org/it_resources/wordpress/new_lamp/#download-and-unpack-wordpress class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Download and unpack WordPress" href=#download-and-unpack-wordpress><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h3></div><p>To download WordPress, we will first navigate to the /tmp folder on the server and then download</p><pre><code>cd /tmp
curl -O https://wordpress.org/latest.tar.gz
</code></pre><p>WordPress comes downloaded in a compressed form (tar.gz) so we will unpack it with tar and leave it in it&rsquo;s own folder in /tmp</p><pre><code>tar xzvf latest.tar.gz -C /tmp/.
</code></pre><p>With that you will have a new /tmp/wordpress folder and all the WordPress files and folders are in there. Now we will create a couple of files that are necessary for WordPress and make a copy of one that WordPress provides a template for.
update files and folders</p><pre><code>sudo touch /tmp/wordpress/.htaccess
sudo mkdir /tmp/wordpress/wp-content/upgrade
sudo cp /tmp/wordpress/wp-config-sample.php /tmp/wordpress/wp-config.php
</code></pre><div class=gdoc-page__anchorwrap><h3 id=wordpress-config-file>WordPress config file
<a data-clipboard-text=https://wiki.casat.org/it_resources/wordpress/new_lamp/#wordpress-config-file class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor WordPress config file" href=#wordpress-config-file><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h3></div><p>Now that we have copied the WordPress wp-config.php template we need to do a bit of setup and configure it to talk to the MySql database that we created previously. For this you will need to know the WordPress database name, and the username and password we created in the previous steps, specifically the ones we used for $WPDBNAME, $WPUSERNAME, and $WPPASSWORD.</p><p>Open wp-config.php with a text editor</p><pre><code>sudo vim /tmp/wordpress/wp-config.php
</code></pre><p>From there we&rsquo;ll begin replacing things, first thing is the MySql database name, $WPDBNAME. Find the line that matches below and replace database_name_here with your MySql WordPress database name (leave the '' ticks).</p><pre><code>define( 'DB_NAME', 'database_name_here' );
</code></pre><p>Next we&rsquo;ll do the same with the MySql database user we created, $WPUSERNAME. Scroll down wp-config.php and find the matching line and replace username_here with your MySql user</p><pre><code>define( 'DB_USER' 'username_here' );
</code></pre><p>And we&rsquo;ll do the same with the MySql user password, $WPPASSWORD, we created earlier as well. Find the matching line and replace password_here with the actual password</p><pre><code>define( 'DB_PASSWORD', 'password_here' );
</code></pre><p>With that done we need to do one more thing for wp-config and that is download the Salts. Salts are what WordPress uses to cryptographically randomize yours and your users passwords when they are stored in memory. For our purposes you will run the command below and then copy the output which we will then paste into our wp-config.php file.</p><pre><code>curl -s https://api.wordpress.org/secret-key/1.1/salt/
</code></pre><p>With the salt contents copied, we will open up the wp-config.php file one more time in our text editor</p><pre><code>sudo vim /tmp/wordpress/wp-config.php
</code></pre><p>And then scroll down till you find the following section</p><pre><code>define( 'AUTH_KEY',         'put your unique phrase here' );
define( 'SECURE_AUTH_KEY',  'put your unique phrase here' );
define( 'LOGGED_IN_KEY',    'put your unique phrase here' );
define( 'NONCE_KEY',        'put your unique phrase here' );
define( 'AUTH_SALT',        'put your unique phrase here' );
define( 'SECURE_AUTH_SALT', 'put your unique phrase here' );
define( 'LOGGED_IN_SALT',   'put your unique phrase here' );
define( 'NONCE_SALT',       'put your unique phrase here' );
</code></pre><p>Delete these 8 lines and replace them with the salt contents you copied earlier and then save the changes.</p><div class=gdoc-page__anchorwrap><h3 id=copying-wordpress-to-its-proper-location>Copying WordPress to its proper location
<a data-clipboard-text=https://wiki.casat.org/it_resources/wordpress/new_lamp/#copying-wordpress-to-its-proper-location class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Copying WordPress to its proper location" href=#copying-wordpress-to-its-proper-location><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h3></div><p>Our WordPress files are now ready to be copied to our live location. In the previous step when setting up our Apache VirtuaHost file we defined a DocumentRoot location, that is where you need to copy the WordPress files to. The command should look something like this</p><pre><code>sudo cp -a /tmp/wordpress/. /var/www/$WPFOLDER
</code></pre><p>Once the files have been copied we need to update them to have the correct permissions. Run the following commands to update the permissions</p><pre><code>sudo chown -R www-data:www-data /var/www/$WPFOLDER/
sudo chmod -R 755 /var/www/$WPFOLDER/
sudo find /var/www/$WPFOLDER/ -type d -exec chmod 750 {} \;
sudo find /var/www/$WPFOLDER/ -type f -exec chmod 640 {} \;
sudo find /var/www/$WPFOLDER/ -type d -exec chmod g+s {} \;
</code></pre><p>Now you should be able to navigate to your domain and see the WordPress welcome page.</p><hr><div class=gdoc-page__anchorwrap><h2 id=installing-wp-cli>Installing wp-cli
<a data-clipboard-text=https://wiki.casat.org/it_resources/wordpress/new_lamp/#installing-wp-cli class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Installing wp-cli" href=#installing-wp-cli><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h2></div><p>wp-cli is a tool for managing WordPress from the terminal. We use it to manage WordPress when the web interface is inaccessible and to apply bulk changes to the MySQL database after a server migration. You can find more information on the <a class=gdoc-markdown__link href=https://wp-cli.org/>wp-cli website.</a></p><blockquote class="gdoc-hint info"><strong>Running commands</strong><br>To use wp-cli you navigate to the WordPress web root folder, for our websites that should be /var/www/$DOMAIN_NAME/. From there you can run the wp-cli commands in the terminal. You can find a list of commands on the <a class=gdoc-markdown__link href=https://developer.wordpress.org/cli/commands/>WordPress website.</a></blockquote><p>Download the wp-cli app</p><pre><code>curl -O https://raw.githubusercontent.com/wp-cli/builds/gh-pages/phar/wp-cli.phar
</code></pre><p>Make the wp-cli app executable</p><pre><code>sudo chmod +x wp-cli.phar
</code></pre><p>Move the app to the proper location for the app to be run by all users.</p><pre><code>mv wp-cli.phar /usr/local/bin/wp
</code></pre></article><div class="gdoc-page__footer flex flex-wrap justify-between"></div></div></main><footer class=gdoc-footer><div class="container flex"><div class="flex flex-wrap"><span class="gdoc-footer__item gdoc-footer__item--row">Built with <a href=https://gohugo.io/ class=gdoc-footer__link>Hugo</a> and<svg class="icon gdoc_heart"><use xlink:href="#gdoc_heart"/></svg></span></div><div class="flex flex-25 justify-end"><span class=gdoc-footer__item><a class="gdoc-footer__link fake-link" href=# aria-label="Back to top"><svg class="icon gdoc_keyborad_arrow_up"><use xlink:href="#gdoc_keyborad_arrow_up"/></svg><span class=hidden-mobile>Back to top</span></a></span></div></div></footer></div><script defer src=/js/clipboard-27784b7376.min.js></script><script defer src=/js/clipboard-loader-f0b5fbd5f6.min.js></script></body></html>